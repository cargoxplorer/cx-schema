# {{displayName}} Module
# Generated by cx-validate create module

module:
  name: "{{name}}"
  appModuleId: "{{uuid}}"
  displayName: "{{displayName}}"
  description: "{{displayName}} module"
  icon: "folder"
  version: "1.0"
  fileName: "{{fileName}}"

entities:
  - name: {{name}}
    displayName: "{{displayName}}"

permissions:
  - name: "view-{{name}}"
    displayName: "View {{displayName}}"
  - name: "edit-{{name}}"
    displayName: "Edit {{displayName}}"

routes:
  - name: "list"
    path: "/{{name}}"
    component: list
  - name: "detail"
    path: "/{{name}}/:id"
    component: detail

components:
  - type: layout
    name: list
    title: "{{displayName}} List"
    children:
      - type: dataGrid
        name: {{name}}Grid
        props:
          entityName: "{{name}}"
          columns:
            - field: "name"
              headerName: "Name"
              flex: 1
            - field: "createdAt"
              headerName: "Created"
              type: "date"
        actions:
          onRowClick:
            - type: navigate
              props:
                route: "detail"
                params:
                  id: "{{row.id}}"

  - type: layout
    name: detail
    title: "{{displayName}} Detail"
    children:
      - type: form
        name: {{name}}Form
        props:
          entityName: "{{name}}"
        fields:
          - type: text
            name: name
            props:
              label: "Name"
              required: true
          - type: textarea
            name: description
            props:
              label: "Description"
              rows: 3
        actions:
          onSubmit:
            - type: mutation
              props:
                operation: "update{{displayNameNoSpaces}}"
                input: "{{form}}"
            - type: notification
              props:
                message: "{{displayName}} saved successfully"
                severity: "success"
