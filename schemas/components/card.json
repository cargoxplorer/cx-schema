{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Card Component",
  "type": "object",
  "properties": {
    "component": {
      "type": "string",
      "const": "card"
    },
    "name": {
      "type": "string",
      "description": "Unique name identifier for the card"
    },
    "props": {
      "type": "object",
      "properties": {
        "title": {
          "oneOf": [{ "type": "string" }, { "$ref": "../schemas.json#/definitions/localized" }]
        },
        "icon": {
          "type": "string",
          "description": "Icon class name"
        },
        "permission": {
          "$ref": "../schemas.json#/definitions/permissions"
        },
        "className": {
          "type": "string",
          "description": "CSS classes for styling"
        },
        "toolbar": {
          "type": "array",
          "description": "Toolbar components",
          "items": { "$ref": "../schemas.json#/definitions/component" }
        },
        "contextMenu": {
          "type": "object",
          "description": "Context menu (3-dots menu) configuration",
          "properties": {
            "icon": {
              "type": "string",
              "description": "Icon for the menu trigger (default: 'ellipsis-v' or 'more-vert')",
              "default": "ellipsis-v"
            },
            "position": {
              "type": "string",
              "enum": ["top-right", "top-left", "bottom-right", "bottom-left"],
              "description": "Position of the menu icon",
              "default": "top-right"
            },
            "items": {
              "type": "array",
              "description": "Menu items to display",
              "items": {
                "type": "object",
                "properties": {
                  "label": {
                    "oneOf": [{ "type": "string" }, { "$ref": "../schemas.json#/definitions/localized" }],
                    "description": "Display text for the menu item"
                  },
                  "icon": {
                    "type": "string",
                    "description": "Optional icon for the menu item"
                  },
                  "divider": {
                    "type": "boolean",
                    "description": "Show as a divider instead of menu item"
                  },
                  "onClick": {
                    "$ref": "../schemas.json#/definitions/actionsList",
                    "description": "Actions to execute when item is clicked"
                  },
                  "permission": {
                    "$ref": "../schemas.json#/definitions/permissions",
                    "description": "Permission required to view this item"
                  },
                  "isHidden": {
                    "$ref": "../schemas.json#/definitions/templateExpression",
                    "description": "Conditionally hide this menu item"
                  },
                  "disabled": {
                    "$ref": "../schemas.json#/definitions/templateExpression",
                    "description": "Conditionally disable this menu item"
                  }
                }
              }
            }
          }
        },
        "onClick": {
          "$ref": "../schemas.json#/definitions/actionsList",
          "description": "Actions to execute when the card is clicked"
        }
      }
    },
    "children": {
      "$ref": "../schemas.json#/definitions/componentChildren"
    }
  },
  "required": ["component"],
  "x-examples": [
    {
      "component": "card",
      "props": {
        "title": { "en-US": "Primary Contact Information" },
        "toolbar": [
          {
            "component": "button",
            "props": {
              "icon": "pen",
              "onClick": [
                { "dialog": { "name": "updateContactDialog", "component": { "component": "Contacts/UpdateContact" } } }
              ]
            }
          }
        ],
        "contextMenu": {
          "icon": "ellipsis-v",
          "position": "top-right",
          "items": [
            {
              "label": { "en-US": "Edit" },
              "icon": "edit",
              "onClick": [
                { "dialog": { "name": "editDialog", "component": { "component": "Contacts/Edit" } } }
              ]
            },
            {
              "label": { "en-US": "Duplicate" },
              "icon": "copy",
              "onClick": [
                { "action": "duplicate", "params": { "id": "{{ contactId }}" } }
              ]
            },
            {
              "divider": true
            },
            {
              "label": { "en-US": "Delete" },
              "icon": "trash",
              "onClick": [
                { "confirm": { "message": "Are you sure you want to delete this contact?" } },
                { "action": "delete", "params": { "id": "{{ contactId }}" } }
              ],
              "permission": "contacts.delete"
            }
          ]
        }
      },
      "children": [
        {
          "component": "layout",
          "props": { "cols": 2 },
          "children": [{ "component": "text", "props": { "value": "..." } }]
        }
      ]
    },
    {
      "component": "card",
      "props": {
        "className": "p-2",
        "onClick": [{ "navigate": "orders" }]
      },
      "children": [
        {
          "component": "layout",
          "props": { "className": "d-flex justify-content-between cursor-pointer p-3", "cols": 0 },
          "children": [
            { "component": "icon", "props": { "icon": "briefcase" } },
            { "component": "text", "props": { "value": { "en-US": "Orders" } } }
          ]
        }
      ]
    }
  ]
}
